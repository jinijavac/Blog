<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velog Style Example</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif; /* ì „ì²´ ê¸€ì”¨ì²´ ë³€ê²½ */
            background-color: #ffffff;
            color: #333;
            padding-left: 5rem; /* ì–‘ì˜†ì— íŒ¨ë”© ì¶”ê°€ */
            padding-right: 5rem; /* ì–‘ì˜†ì— íŒ¨ë”© ì¶”ê°€ */
        }
        a {
            text-decoration: none;
            color: inherit;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ffffff;
            padding: 0.5rem 1rem;
            color: #000;

        }

        .header a.header {
            font-size: 1.4rem; /* ê¸€ì”¨ í¬ê¸° ì¡°ì ˆ */
            font-weight: bold; /* ê¸€ì”¨ ë‘ê»˜ ì¡°ì ˆ */
        }

        .navbar-nav {
            display: flex;
            gap: 1rem;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            background-color: #282828;
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            transition: background-color 0.3s;
        }

        .nav-link:hover {
            background-color: #838383;
        }

        .nav-link.dropdown-toggle {
            background: none; /* ë°°ê²½ ì œê±° */
            border: none; /* í…Œë‘ë¦¬ ì œê±° */
            padding: 0; /* íŒ¨ë”© ì œê±° */
            color: #333; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            cursor: pointer; /* ì»¤ì„œ ëª¨ì–‘ ë³€ê²½ */
            font-size: 1rem; /* í…ìŠ¤íŠ¸ í¬ê¸° */
            font-weight: normal; /* í…ìŠ¤íŠ¸ ë‘ê»˜ */
            transition: color 0.3s;
        }

        .nav-link.dropdown-toggle:hover {
            color: #007bff; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
        }

        .nav-link.dropdown-toggle::after {
            content: ' â–¼'; /* ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì¶”ê°€ */
            font-size: 0.8em;
            margin-left: 5px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            overflow: hidden;
            z-index: 1;
            right: 0; /* ì˜¤ë¥¸ìª½ì— ì •ë ¬ */
            top: 100%; /* ì•„ë˜ë¡œ í¼ì³ì§€ê²Œ ì„¤ì • */
            min-width: 200px; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
            padding: 10px 0; /* ì•„ì´í…œ ê°„ê²©ì„ ìœ„í•œ ìƒí•˜ íŒ¨ë”© */
        }

        .dropdown-content .dropdown-item {
            padding: 10px 20px; /* íŒ¨ë”© ì¶”ê°€ */
            color: #333;
            white-space: nowrap;
            transition: background-color 0.3s;
            display: block; /* ì•„ì´í…œë“¤ì„ ë¸”ë¡ìœ¼ë¡œ ë°°ì¹˜ */
        }

        .dropdown-content .dropdown-item:hover {
            background-color: #f1f1f1;
        }

        .container {
            margin-top: 2rem;
            padding: 0 15rem;
        }

        .profile {
            display: flex;
            align-items: center;
            margin-bottom: 5rem;
            background-color: white;
            padding: 5rem;
            border-radius: 1px;
            border-bottom: 2px solid #ddd; /* í”„ë¡œí•„ ë°‘ì— ì„  ì¶”ê°€ */
        }

        .profile-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 1rem;
            border: 1px solid #ececec;
        }

        .profile-info {
            flex: 1;
        }

        .profile-info h2 {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .profile-info p {
            font-size: 1.1rem;
            color: #666;
        }


        .card {
            width: 100%;
            display: inherit;
            flex-direction: column;
            justify-content: space-between;
            height: 200px; /* ì¹´ë“œ ë†’ì´ ê³ ì • */
            cursor: pointer; /* ì»¤ì„œ ëª¨ì–‘ ë³€ê²½ */
            overflow: hidden; /* ë„˜ì¹˜ëŠ” ë‚´ìš© ìˆ¨ê¸°ê¸° */
            position: relative; /* ìœ„ì¹˜ ì„¤ì • */
            border-bottom: 1px solid #ddd; /* ì¹´ë“œ í•˜ë‹¨ì— êµ¬ë¶„ì„  ì¶”ê°€ */
            padding: 0.5rem; /* ì¹´ë“œ ì „ì²´ íŒ¨ë”© ì‘ê²Œ ì„¤ì • */
        }

        .card-body {
            padding: 1rem; /* ì¹´ë“œ ë‚´ë¶€ íŒ¨ë”© ì„¤ì • */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex-grow: 1;
            background-color: white; /* ë°°ê²½ìƒ‰ì„ í™”ì´íŠ¸ë¡œ ì„¤ì • */
            box-sizing: border-box; /* íŒ¨ë”©ê³¼ í…Œë‘ë¦¬ë¥¼ í¬í•¨í•œ í¬ê¸° ê³„ì‚° */
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            padding: 0.5rem 0;
        }

        .card-text {
            padding: 0.5rem 0;
            color: #666;
        }

        .card-footer {
            padding: 0.1rem 0; /* ìœ„ì•„ë˜ íŒ¨ë”© ì¶”ê°€ */
            position: absolute; /* ì ˆëŒ€ ìœ„ì¹˜ */
            bottom: 0; /* í•˜ë‹¨ì— ê³ ì • */
            width: 100%; /* ì¹´ë“œ ë„ˆë¹„ì— ë§ì¶¤ */
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white; /* ë°°ê²½ìƒ‰ì„ í™”ì´íŠ¸ë¡œ ì„¤ì • */
            font-size: 18px;


        }


        .follow-info {
            text-align: right; /* ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì •ë ¬ */
            padding-bottom: 5rem; /* íŒ¨ë”© ì¶”ê°€ */
            font-size: 1.1rem; /* ê¸€ì í¬ê¸° */
            color: #666; /* ê¸€ì ìƒ‰ìƒ */
            font-weight: bold;

        }

        .tabs {
            display: flex;
            justify-content: center; /* ê°€ìš´ë° ì •ë ¬ */
            margin-bottom: 2rem;
            background-color: #fff;
            gap: 0.5rem; /* íƒ­ ê°„ê²© ì¢íˆê¸° */

        }

        .tab {
            padding: 1rem 1rem; /* íŒ¨ë”© ì¡°ì • */
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: background-color 0.3s;
            text-align: center;
        }

        .tab:hover {
            background-color: #f8f8f8;
        }

        .tab.active {
            border-bottom: 4px solid #2fd7f6;
        }
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .placeholder {
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #999;
            font-size: 1.2rem;
        }


    </style>
</head>
<body>

<nav class="header">
    <a class="header" href="/">jini_log</a>
    <div class="navbar-nav">
        <div class="nav-item">
            <a href="#">ğŸ””</a>
        </div>
        <div class="nav-item">
            <a href="#">ğŸ”</a>
        </div>
        <div class="nav-item" sec:authorize="isAnonymous()">
            <a class="nav-link" href="/auth/loginform">ë¡œê·¸ì¸</a>
        </div>
        <div class="nav-item" sec:authorize="isAuthenticated()">
            <a class="nav-link" href="/board/saveform">ìƒˆ ê¸€ ì‘ì„±</a>
        </div>
        <div class="nav-item dropdown" sec:authorize="isAuthenticated()">
            <a class="nav-link dropdown-toggle" href="#" id="user-name" sec:authentication="name">
                ì‚¬ìš©ì ì´ë¦„
            </a>
            <div class="dropdown-content">
                <a class="dropdown-item" href="/user/updateform">ì •ë³´ ìˆ˜ì •</a>
                <a class="dropdown-item" href="#">ì„ì‹œ ê¸€</a>
                <a class="dropdown-item" href="/user/info">ë‚´ ë¸”ë¡œê·¸ ì´ë™</a>
                <a class="dropdown-item" href="/logout">ë¡œê·¸ì•„ì›ƒ</a>
            </div>
        </div>
    </div>
</nav>

<div class="container">
    <div class="profile">
        <img th:src="${user.profileImage}" alt="í”„ë¡œí•„ ì‚¬ì§„" class="profile-image">
        <div class="profile-info">
            <p class="text-muted font-weight-light" th:text="${user.username} + 'ì˜ í”„ë¡œí•„'"></p>
            <h2 th:text="${user.blogTitle}"></h2>
            <p class="lead text-muted" th:text="${user.bio}"></p>
        </div>
    </div>
    <p class="follow-info">0 íŒ”ë¡œìš°  0 íŒ”ë¡œì›Œ</p> <!-- íŒ”ë¡œìš° ì •ë³´ -->

    <!-- íƒ­ -->
    <div class="tabs">
        <div class="tab active" data-target="my-posts">ê¸€</div>
        <div class="tab" data-target="series">ì‹œë¦¬ì¦ˆ</div>
        <div class="tab" data-target="intro">ì†Œê°œ</div>
    </div>

    <!-- ë‚´ê°€ ì“´ ê¸€ ì„¹ì…˜ -->
    <div id="my-posts" class="section active">
        <div class="posts">
            <div th:each="post : ${userPosts}">
                <div class="card" th:onclick="|location.href='@{/board/{id}(id=${post.id})}'|">
                    <div class="card-body">
                        <div th:with="content=${post.content},
                          textOnly=${content.replaceAll('<img[^>]*>', '').trim()},
                          imagesOnly=${content.matches('.*<img[^>]*>.*') ? content.replaceAll('.*?(<img[^>]*>).*', '$1').trim() : ''}">
                            <h4 class="card-title" th:text="${post.title}"></h4>
                            <p class="card-text" th:utext="${textOnly}"></p>
                            <div class="card-footer">
                                <p class="card-text" th:text="${#temporals.format(post.createdDate, 'yyyy-MM-dd HH:mm')}">ì‘ì„±ì¼</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì‹œë¦¬ì¦ˆ ì„¹ì…˜ -->
    <div id="series" class="section">
        <div class="placeholder">ì‹œë¦¬ì¦ˆ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤</div>
    </div>

    <!-- ì†Œê°œ ì„¹ì…˜ -->
    <div id="intro" class="section">
        <div class="placeholder">ì†Œê°œ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤</div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var tabs = document.querySelectorAll('.tab');
        var sections = document.querySelectorAll('.section');

        tabs.forEach(function(tab) {
            tab.addEventListener('click', function() {
                // ëª¨ë“  íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
                tabs.forEach(function(t) { t.classList.remove('active'); });
                // í´ë¦­ëœ íƒ­ì— active í´ë˜ìŠ¤ ì¶”ê°€
                tab.classList.add('active');

                // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
                sections.forEach(function(section) { section.classList.remove('active'); });
                // í´ë¦­ëœ íƒ­ì˜ íƒ€ê²Ÿ ì„¹ì…˜ ë³´ì´ê¸°
                var target = document.getElementById(tab.getAttribute('data-target'));
                target.classList.add('active');
            });
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var dropdownToggle = document.querySelector('.nav-link.dropdown-toggle');
        var dropdownContent = document.querySelector('.dropdown-content');

        dropdownToggle.addEventListener('click', function(event) {
            event.preventDefault();
            dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
        });

        document.addEventListener('click', function(event) {
            if (!dropdownToggle.contains(event.target) && !dropdownContent.contains(event.target)) {
                dropdownContent.style.display = 'none';
            }
        });
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
</body>
</html>
